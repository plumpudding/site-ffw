{
	hostname_prefix => 'freifunk',
	site_name => 'Freifunk Wuppertal',
	site_code => 'ffw',
	release => '0.4+0-exp' . nightly,

	prefix4 => '10.3.0.0/16',
	prefix6 => 'fda0:747e:ab29:e1ba::/64',

	timezone => 'CET-1CEST,M3.5.0,M10.5.0/3', # Europe/Berlin
	ntp_servers => ['1.ntp.services.ffw'],
	regdom => 'DE',

	wifi24 => {
		ssid => 'Freifunk Wuppertal (2,4 GHz Test)',
		channel => 9,
		htmode => 'HT40+',
		mesh_ssid => 'FFW-BATBONE',
		mesh_bssid => '02:ca:ff:ee:e1:ba',
		mesh_mcast_rate => 12000,
	},
	wifi5 => {
		ssid => 'Freifunk Wuppertal (5 GHz Test)',
		channel => 44,
		htmode => 'HT40+',
		mesh_ssid => 'FFW-BATBONE',
		mesh_bssid => '02:ca:ff:ee:e1:ba',
		mesh_mcast_rate => 12000,
	},

	next_node => {
		ip4 => '10.3.0.1',
		ip6 => 'fda0:747e:ab29:e1ba::1',
		mac => '16:41:95:40:f7:dc',
	},

	fastd_mesh_vpn => {
		methods => ['salsa2012+gmac'],
		mtu => 1426,
		backbone => {
			limit => 2,
			peers => {
				wupper9 => {
					key => '62b1b37c2343a4c0165cfb9cc8a87b65d1ffd04136aa5d24c1147f6fb1637f39',
					remotes => ['ipv4 "wupper9.ffwtal.net" port 42666'],
				},
				wupper8 => {
					key => '332bfb0c3c4bba4a5c7f36721ff52f484603bf2a4a233a3776e9d4f8b9567078',
					remotes => ['ipv4 "wupper8.ffwtal.net" port 42666'],
				},
				wupper7 => {
					key => '9916d2e9e89452ae7e1b9c58038a3b16b75e49d51afd0440d915adcdac561739',
					remotes => ['ipv4 "wupper7.ffwtal.net" port 42666'],
				},
				wupper6 => {
					key => '6775943433146a1c16a33940805fbafa8ba0cc6ef328d66cffc0ffe2480226fa',
					remotes => ['ipv4 "wupper6.ffwtal.net" port 42666'],
				},
				wupper5 => {
					key => 'd49256cbc83e206c9afb3c8f757f1a318a18e16933b9b05015926d0849b3cd89',
					remotes => ['ipv4 "wupper5.ffwtal.net" port 42666'],
				},
				wupper4 => {
					key => '5e7fa122990dbc34b8cae7ece2cd4ef919d3f8c23a674b7bbcf05bfebe6a6e8a',
					remotes => ['ipv4 "wupper4.ffwtal.net" port 42666'],
				},
				wupper3 => {
					key => 'c8f3d1d10b0d6389e39c3c3cb08adfa3123e821fd5bfd6262d2161d80ee4b06c',
					remotes => ['ipv4 "wupper3.ffwtal.net" port 42666'],
				},
				wupper2 => {
					key => 'b7f319d59d8383ba813c3503416bca45f70852e4d207b1743bb6cdca1e30d9f5',
					remotes => ['ipv4 "wupper2.ffwtal.net" port 42666'],
				},
				wupper1 => {
					key => '6eae041199ee627689bfa026afbd8a9ab299eca8aed4144321d098cffd62668e',
					remotes => ['ipv4 "wupper1.ffwtal.net" port 42666'],
				},
				wupper0 => {
					key => 'e52daa654abcf5c20c5b7a74b5145f70a7491435c6ef334ae352e4f19c00e8f5',
					remotes => ['ipv4 "wupper0.ffwtal.net" port 42666'],
				},
			},
		},
	},

	autoupdater => {
		enabled => 1,
		branch => 'stable',
		branches => {
			stable => {
				name => 'stable',
				mirrors => ['http://updates.ffwtal.net/stable/sysupgrade'],
				probability => 0.08,
				good_signatures => 2,
				pubkeys => [
					'4e260211c6723d9dfa91d06c376ce500cca6052396f270474bbb70d19cf4f472', # DSchmidtberg
					'2a0bc311a913089170b2d666e1e2aa2de0e9ef2a2fa9c6daa691f2edfd91ca5d', # phip
					'd50991a5d4848f87cc7f5b0d3b1cd5d7f9639e9acdc41ea28e87d8d561d92a49', # univ
				],
			},
			beta = {
				name => 'beta',
				mirrors => ['http://updates.ffwtal.net/beta/sysupgrade'],
				probability => 0.08,
				good_signatures => 2,
				pubkeys => [
					'4e260211c6723d9dfa91d06c376ce500cca6052396f270474bbb70d19cf4f472', # DSchmidtberg
					'2a0bc311a913089170b2d666e1e2aa2de0e9ef2a2fa9c6daa691f2edfd91ca5d', # phip
					'd50991a5d4848f87cc7f5b0d3b1cd5d7f9639e9acdc41ea28e87d8d561d92a49', # univ
				],
			},
			experimental => {
				name => 'experimental',
				mirrors => ['http://updates.ffwtal.net/experimental/sysupgrade'],
				probability => 1.00,
				good_signatures => 2,
				pubkeys => [
					'4e260211c6723d9dfa91d06c376ce500cca6052396f270474bbb70d19cf4f472', # DSchmidtberg
					'2a0bc311a913089170b2d666e1e2aa2de0e9ef2a2fa9c6daa691f2edfd91ca5d', # phip
					'd50991a5d4848f87cc7f5b0d3b1cd5d7f9639e9acdc41ea28e87d8d561d92a49', # univ
				],
			},
		},
	},

	simple_tc => {
		mesh_vpn => {
			ifname => 'mesh-vpn',
			enabled => 0,
			limit_egress => 200,
			limit_ingress => 3000,
		},
	},

	config_mode => {
		msg_welcome => <<'END',
Willkommen zum Einrichtungsassistenten für deinen neuen Wuppertaler
Freifunk-Knoten. Fülle das folgende Formular deinen Vorstellungen
entsprechend aus und sende es ab.
END
		msg_pubkey => <<'END',
Dies ist der öffentliche Schlüssel deines Freifunkknotens. Erst nachdem
er auf den Servern des Wuppertaler Freifunk-Projektes eingetragen wurde,
kann sich dein Knoten mit dem Wuppertaler Mesh-VPN zu verbinden. Bitte
trage dazu diesen Schlüssel und den Namen deines Knotens
(<em><%=hostname%></em>) auf
<a href="http://fastd-register.ffwtal.net/">http://fastd-register.ffwtal.net/</a>
ein.
END
		msg_reboot => <<'END',
<p>
Dein Knoten startet gerade neu und wird anschließend versuchen,
sich mit anderen Freifunkknoten in seiner Nähe zu
verbinden. Weitere Informationen zur
Wuppertaler Freifunk-Community findest du auf
<a href="http://freifunk-wuppertal.net/">unserer Webseite</a>.
</p>
<p>
Viel Spaß mit deinem Knoten und der Erkundung von Freifunk!
</p>
END
	},

	legacy => {
	       version_files => ['/etc/.freifunk_version_keep', '/etc/.ffw_version_keep'],
	       old_files => ['/etc/config/config_mode', '/etc/config/ffw', '/etc/config/freifunk'],

	       config_mode_configs => ['config_mode.@wizard[0]', 'ffw.@wizard[0]', 'freifunk.@wizard[0]'],
	       fastd_configs => ['ffw_mesh_vpn', 'mesh_vpn'],
	       mesh_ifname => 'freifunk',
	       tc_configs => ['ffw.@bandwidth[0]', 'freifunk.@bandwidth[0]'],
	       wifi_names => ['wifi_freifunk', 'wifi_freifunk5', 'wifi_mesh', 'wifi_mesh5'],
	},
}

